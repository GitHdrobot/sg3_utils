.TH SG_OPCODES "8" "June 2004" "sg3_utils-1.07" SG3_UTILS
.SH NAME
sg_opcodes \- reports information about supported SCSI commands
.SH SYNOPSIS
.B sg_opcodes
[\fI-o=<opcode>\fR [\fI-s=<service_action>\fR ] ]
[\fI-v\fR] [\fI-V\fR] [\fI-?\fR] \fI<scsi_device>\fR
.SH DESCRIPTION
.\" Add any additional description here
.PP
This utility sends a SCSI REPORT SUPPORTED OPERATION CODES command to the
given device and then outputs the response. It will either list all
supported commands or give detailed information on a specific command
identified by the "-o" option (perhaps with additional information
from the "-s" option).
.PP
The name of a SCSI command depends on its peripheral device type (e.g.
a disk) which is obtained from a standard SCSI INQUIRY command. Further
the REPORT SUPPORTED OPERATION CODES command is not supported in
the MMC command set for CD and DVD devices. So this utility does an
INQUIRY to obtain the peripheral device type and prints out the
vendor, product and revision strings.
.PP
A similar facility used to be available via the CmdDt bit in the SCSI
INQUIRY command (see sg_inq(8)). However that facility was made obsolete
and replaced by the REPORT SUPPORTED OPERATION CODES SCSI command in 
SPC-3 (revision 4) in February 2002.
.TP
-o=<opcode>
the given device will be queried for the given operation code ("opcode")
which is the first byte of a SCSI command. Argument
is hexadecimal and expected to be in the range 0 to ff inclusive.
.TP
-s=<service_action>
the given device will be queried for the given operation code ("opcode")
which is assumed to be 0 if this option is not accompanied by a "-o"
option with a service action given as the argument to this option.
The argument is hexadecimal and expected to be in the range 0 to ffff 
inclusive.
.TP
-v
verbose: print out cdb of issued commands prior to execution
.TP
-V
print out version string
.TP
-?
output usage message. Ignore all other parameters.
.PP
In the 2.4 series of Linux kernels the given device must be
a SCSI generic (sg) device. In the 2.6 series block devices (e.g. disks
and SCSI DVDs) can also be specified. For example "sg_opcodes /dev/sda"
will work in the 2.6 series kernels.
.SH AUTHOR
Written by Doug Gilbert
.SH "REPORTING BUGS"
Report bugs to <dgilbert at interlog dot com>.
.SH COPYRIGHT
Copyright \(co 2004 Douglas Gilbert
.br
This software is distributed under the GPL version 2. There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
.SH "SEE ALSO"
.B sg_inq(sg3_utils)
